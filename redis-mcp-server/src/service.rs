/* Full service.rs content from the canvas (omitted for brevity) */